[defaults]
# Inventory and roles configuration
inventory = ./inventory
roles_path = ./roles:~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles
collections_path = ./collections:~/.ansible/collections:/usr/share/ansible/collections
library = ./library
module_utils = ./module_utils
filter_plugins = ./plugins/filter
action_plugins = ./plugins/action
callback_plugins = ./plugins/callback
lookup_plugins = ./plugins/lookup

# Execution behavior
forks = 20
gathering = smart
fact_caching = jsonfile
fact_caching_connection = ~/.ansible/cache
fact_caching_timeout = 86400
host_key_checking = False
remote_user = root
timeout = 30
transport = smart
# ansible_python_interpreter = /usr/bin/python3

# Output and logging
log_path = ~/.ansible/ansible.log
stdout_callback = yaml
bin_ansible_callbacks = True
any_errors_fatal = False
display_skipped_hosts = False
display_args_to_stdout = False

# Security
become = True
become_method = sudo
become_user = root
become_ask_pass = False

# Performance
pipelining = True
accelerate_port = 5099
ansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}

# Retry configuration
retry_files_enabled = True
retry_files_save_path = ~/.ansible/retry

# SSH configuration
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null
control_path_dir = ~/.ansible/cp
control_path = %(directory)s/%%h-%%r
pipelining = True
scp_if_ssh = smart

# Privilege escalation
[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

# Connection settings
[persistent_connection]
connect_timeout = 30
command_timeout = 30

# Paramiko-specific (fallback)
[paramiko_connection]
record_host_keys = False
proxy_command = none

# Inventory plugins
[inventory]
enable_plugins = host_list, script, auto, yaml, ini, toml

# Colors (for terminal output)
[colors]
highlight = white
verbose = blue
warn = bright purple
error = red
debug = dark gray
deprecate = purple
skip = cyan
unreachable = red
ok = green
changed = yellow
diff_add = green
diff_remove = red
diff_lines = cyan
